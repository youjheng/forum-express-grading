<div class="row">
  <div class="col-md-4">
    <img class="img-responsive center-block mb-5" src="{{user.image}}"
      style="width: 250px; transition: opacity 0.5s; opacity:0;" onload="this.style.opacity=1;">
    <br>
  </div>
  <div class="col-md-8">
    <h1>{{user.name}}</h1>
    <p>{{user.email}}</p>
    <p><strong>{{user.Comments.length}}</strong> 已評論餐廳</p>
    <p><strong>{{user.FavoritedRestaurants.length}}</strong> 收藏的餐廳</p>
    <p><strong>{{user.Followers.length}}</strong> followings（追蹤者）</p>
    <p><strong>{{user.Followings.length}}</strong> followers（追隨者）</p>
    <a class="btn btn-outline-primary mt-3" href="/users/{{user.id}}/edit">Edit</a>
  </div>
</div>

<div class="row">
  <div class="col-md-4">
    <div class="card mt-5">
      <div class="card-header"><strong>{{user.Followers.length}}</strong> followings（追蹤者）</div>
      <div class="card-body">
        {{#if user.Followers}}
        {{#each user.Followers}}
        <a href="/users/{{this.id}}">
          <img class="card-img-top img-fluid me-2" src="{{this.image}}" alt="Card image cap" style="transition: opacity 0.5s; opacity:0; width: 100px; height: 100px;" onload="this.style.opacity=1;">
        </a>
        {{/each}}
        {{else}}
        <p>沒有 followings（追蹤者）</p>
        {{/if}}
      </div>
    </div>

    <div class="card mt-5">
      <div class="card-header"><strong>{{user.Followings.length}}</strong> followers（追隨者）</div>
      <div class="card-body">
        {{#if user.Followings}}
        {{#each user.Followings}}
        <a href="/users/{{this.id}}">
          <img class="card-img-top img-fluid me-2" src="{{this.image}}" alt="Card image cap" style="transition: opacity 0.5s; opacity:0; width: 100px; height: 100px;" onload="this.style.opacity=1;">
        </a>
        {{/each}}
        {{else}}
        <p>沒有 followers（追隨者）</p>
        {{/if}}
      </div>
    </div>
  </div>

  <div class="col-md-8">
    <div class="card mt-5">
      <div class="card-header"><strong>{{user.Comments.length}}</strong> 已評論餐廳</div>
      <div class="card-body">
        {{#if user.Comments}}
        {{#each user.Comments}}
        <a href="/restaurants/{{this.Restaurant.id}}">
          <img class="card-img-top img-fluid me-2" src="{{this.Restaurant.image}}" alt="Card image cap" style="transition: opacity 0.5s; opacity:0; width: 100px; height: 100px;" onload="this.style.opacity=1;">
        </a>
        {{/each}}
        {{else}}
        <p>沒有評論</p>
        {{/if}}
      </div>
    </div>
    
    <div class="card mt-5">
      <div class="card-header"><strong>{{user.FavoritedRestaurants.length}}</strong> 收藏的餐廳</div>
      <div class="card-body">
        {{#if user.FavoritedRestaurants}}
        {{#each user.FavoritedRestaurants}}
        <a href="/restaurants/{{this.id}}">
          <img class="card-img-top img-fluid me-2" src="{{this.image}}" alt="Card image cap" style="transition: opacity 0.5s; opacity:0; width: 100px; height: 100px;" onload="this.style.opacity=1;">
        </a>
        {{/each}}
        {{else}}
        <p>沒有收藏</p>
        {{/if}}
      </div>
    </div>
  </div>
</div>
